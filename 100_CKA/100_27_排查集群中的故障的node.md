

# 1 题设


![](image/17cka20240429174903.png)

![](image/1870449-20230918132006707-228515502.png)

设置配置环境kubectl config use-context ek8s

名为wk8s-node-0的kubernetes worker node处于Not Ready状态。检查发生这种情况的原因，并采取相应措施将node恢复为Ready状态，确保所做的任何更改永久生效。

可使用以下命令通过ssh 连接到故障node：
ssh wk8s-node-0

可使用一下命令在该node上获取更高权限：
sudo -i



# 2 参考文档 

https://kubernetes.io/zh-cn/docs/tasks/configure-pod-container/static-pod/

# 3 解答


## 3.1 解答1


**解答：**

> 1、切换答题环境（考试环境有多个，每道题要在对应的环境中作答）

```bash
kubectl config use-context ek8s
```

> 2、切换到故障节点

```bash
ssh wk8s-node-0
```

> 3、获取权限并重启节点

```bash
sudo -i
systemctl restart kubelet
```

> 4、检查节点状态并加入开机自启动

```bash
systemctl status kubelet
systemctl enable kubelet
systemctl start kubelet
```

> 5、退出故障节点

```bash
exit
```

> 6  再次检查wk8s-node-0是否在ready
 
ssh master01
kubectl get nodes

> kubelet和container是节点主要的服务，确保这两个服务正常

---

其实这题没这么简单，一般启动kubelet后大概率是启动失败的
可能的原因：
1.kubelet二进制文件路径不对，which kubelet后和服务启动文件kubelet systemd service做个对比，看是否是这个原因
2.service文件路径和它启动的路径不一致，在启动目录下找不到service文件，可以全局搜下并做个软链接。
3.其他原因。