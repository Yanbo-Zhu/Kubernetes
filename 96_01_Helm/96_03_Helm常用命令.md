
![](image/Pasted%20image%2020240613172219.png)

# 1 helm show 

## 1.1 helm show chart 
https://helm.sh/docs/helm/helm_show_chart/

This command inspects a chart (directory, file, or URL) and displays the contents of the Chart.yaml file

```fallback
helm show chart [CHART] [flags]
```

å·®ç°åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„ è¿™ä¸ª  helm chart çš„ä¿¡æ¯ 

```
 âš¡ ğŸ¦„  helm show chart .
apiVersion: v2
appVersion: 1.16.0
description: A Helm chart for deploying the IVU.plan Appserver
name: ivuplan
type: application
version: 0.1.0
```


## 1.2 helm show all/values 

```
helm show all <chart>                   # Inspect a chart and list its contents:
helm show values <chart>                # Displays the contents of the values.yaml file
```


# 2 helm list 
\
https://helm.sh/docs/helm/helm_list/

æŸ¥çœ‹ æŸä¸ª kubenetes cluster ä¸‹æ‰€æœ‰çš„ namespace ä¸‹ æ‰€æœ‰çš„éƒ¨ç½²çš„ helm chart çš„ æƒ…å†µ 

```
 âš¡ ğŸ¦„  helm list -A
NAME                            NAMESPACE       REVISION        UPDATED                                 STATUS          CHART                                   APP VERSION
aws-load-balancer-controller    kube-system     1               2024-06-17 17:07:49.0550639 +0200 CEST  deployed        aws-load-balancer-controller-1.8.1      v2.8.1
cert-manager                    cert-manager    1               2024-06-18 21:38:04.3657502 +0200 CEST  deployed        cert-manager-v1.15.0                    v1.15.0
lzm                             lzm             36              2024-08-07 19:02:13.4997936 +0200 CEST  deployed        ivuplan-0.1.0                           1.16.0
```


# 3 helm install 

ä½¿ç”¨ helm install å‘½ä»¤æ¥å®‰è£…ä¸€ä¸ªæ–°çš„ helm åŒ…ã€‚æœ€ç®€å•çš„ä½¿ç”¨æ–¹æ³•åªéœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼šä½ å‘½åçš„releaseåå­—å’Œä½ æƒ³å®‰è£…çš„chartçš„åç§°ã€‚

helm install happy-panda bitnami/wordpress


happy-pandaï¼š ä¸ºè¿™ä¸ª chart æˆ‘ä»¬æƒ³è¦çš„release çš„åå­—ï¼Œ å¦‚æœä¹‹å‰å·²ç»ä¸ºè¿™ä¸ªchart åˆ›ç«‹è¿‡ç›¸åŒçš„releaseçš„åå­—äº†ï¼Œ é‚£ä¹ˆå°±è¦†ç›–åŸæ¥çš„ 

bitnami/wordpress: path to a packaged chart ï¼Œ Verzeichnis des helmchart , mainifest è¢«ä½¿ç”¨ ï¼Œ å°±åœ¨è¿™ä¸ª æ–‡ä»¶å¤¹ä¸‹, æ‰€ä»¥å°±æ˜¯ç”¨äº†ä¸€ä¸ªç‚¹ã€‚ ä¸ç„¶çš„è¯ åº”è¯¥å†™æˆè¿™æ · `atlassian-data-center/<product>`  ï¼Œå°±ä»£è¡¨ åå­— ä¸º `atlassian-data-center/<product> ` çš„chart ä¼šè¢«å®‰è£…ï¼Œ å®‰è£…çš„è¿™ä¸ª chart çš„release çš„åå­— ä¸º d3091


# 4 helm upgrade 

helm upgrade d3091 .  -f d3091-values.yaml -n d3091 --install --create-namespace 

```
d3091ï¼š ä¸ºè¿™ä¸ª chart æˆ‘ä»¬æƒ³è¦çš„release çš„åå­—ï¼Œ å¦‚æœä¹‹å‰å·²ç»ä¸ºè¿™ä¸ªchart åˆ›ç«‹è¿‡ç›¸åŒçš„releaseçš„åå­—äº†ï¼Œ é‚£ä¹ˆå°±è¦†ç›–åŸæ¥çš„ 

.   ä»–å’Œ path to a packaged chart ï¼Œ Verzeichnis des helmchart , mainifest è¢«ä½¿ç”¨ ï¼Œ å°±åœ¨è¿™ä¸ª æ–‡ä»¶å¤¹ä¸‹, æ‰€ä»¥å°±æ˜¯ç”¨äº†ä¸€ä¸ªç‚¹ã€‚ ä¸ç„¶çš„è¯ åº”è¯¥å†™æˆè¿™æ · atlassian-data-center/<product>  ï¼Œå°±ä»£è¡¨ åå­— ä¸º atlassian-data-center/<product>  çš„chart ä¼šè¢«å®‰è£…ï¼Œ å®‰è£…çš„è¿™ä¸ª chart çš„release çš„åå­— ä¸º d3091

-f d3091-vales.yamlï¼š ä½¿ç”¨çš„ value æ–‡ä»¶ 
-n xxx : namespace scope for this request,  in welche namespace  sollte  es depolyed
--install :  if a release by this name doesn't already exist, run an install
--create-namespace : if --install is set, create the release namespace if not present, create namespcae  when è¿™ä¸ªnaespace åŸæœ¬ä¸å­˜åœ¨çš„æ—¶å€™ , åˆ›é€  è¿™ä¸ª namespace 


```


# 5 helm template 


1 
https://stackoverflow.com/questions/63157235/how-to-render-only-selected-template-in-helm
helm template lzm . --debug  -s templates/deployment.yaml

  -s, --show-only stringArray only show manifests rendered from the given templates
lzm ä¸º è‡ªå·±éšä¾¿ç»™å‡ºçš„ è¿™ä¸ª chart çš„ release çš„åå­— 
ã€‚ ä¸º  chart çš„ä½ç½®ä¸ºå½“å‰ç›®å½• 

```
|app
|-k8s
|--templates
|---deployment.yaml
|---cronjob.yaml
|--values-env1.yaml
|--values-env2.yaml
|--Chart.yaml
```

Now for example, if it's required to generate manifest for cronjob.yaml only, the command would be
    helm template ./app/k8s -s templates/cronjob.yaml -f ./app/k8s/values-env1.yaml




# 6 helm package

helm package .

# 7 helm registry 

# 8 helm push

```
helm push ivuplan-0.1.7.tgz oci://jfrog.ivu.de/ep-helm-dev
```

# 9 helm pull 

```
helm pull oci://jfrog.ivu.de/ep-helm-dev/ivuplan
```




